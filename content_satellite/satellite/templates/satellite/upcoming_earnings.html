{% extends 'satellite/_base_layout.html' %}

{% load number_of_services_tags %}

{% block title_value %}
Upcoming Earnings
{% endblock %}

{% block container_contents %}

<h3>Upcoming Earnings Dates</h3>
<div>
<table id='earnings_date_table' class="table table-striped table-bordered">
	<thead>
		<tr>
			<th width='25%'>Company</th>
			<th width='50%'>Services</th>
			<th width='25%'>Earnings Date</th>
		</tr>
	</thead>
		<tbody class=''>
{% for t in tickers_sorted_by_earnings_date %}
	<tr>
		<td>
			<strong>{{t.ticker_symbol}}</strong> ({{t.company_name}})<br/>
		</td>
		<td>
			{% get_number_of_services t as number_of_services %}
			<strong>{{number_of_services}}</strong>:
			<em>{{t.services_for_ticker}}</em>
		</td>
		<td>
			{{t.earnings_announcement}}<br/>
		</td>
	</tr>
{% endfor %}
</tbody>
</table>
</div>

{% endblock container_contents %}

{% block script_block %}
{{ block.super }}

<!-- http://www.datatables.net/ -->
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>

<script>
    
    $(function() {
		$('#earnings_date_table').dataTable( {
	        "order": [[ 1, "asc" ]],
	        "lengthMenu": [[-1,50,100], ["All",50,100]]
	    } );

    });
</script>
{% endblock script_block %}
