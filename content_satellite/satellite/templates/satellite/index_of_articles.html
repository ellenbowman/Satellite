<html>
<head>
	<title>index of articles</title>
</head>
<body>
	<h2>Article matches</h2>
	<p>
		how many articles are represented? {{num_articles}}
		<br/>
		the most recent article in this result set was published on {{pub_date_newest}}
		<br/>
		the oldest article in this results set was published on {{pub_date_oldest}}
		<br/>
		how many authors are represented? {{num_authors}}
	</p>


	<div style='background-color:lightgray'>
		are these results filtered by service and/or ticker?
		<br/>

		service filter:
		{% if service_filter_description %}
		<strong>{{service_filter_description}}</strong>
		{% else %}
		<em>none</em>
		{% endif %}

		<br/>

		ticker filter:
		{% if ticker_filter_description %}
		<strong>{{ticker_filter_description}}</strong>
		{% else %}
		<em>none</em>
		{% endif %}
		
		<div style='background-color:yellow'>
			Filter the results!
			<form action="" method="post">
				{% csrf_token %}
				
					ticker(s): <input type='text' name='filter_tickers'> <em>(as a csv, eg: 'AAPL,MSFT,YHOO')</em>

					<br/>

					service(s):
					<br/>
					{% for s in service_options %}
					&nbsp; <input type="checkbox" name="filter_service_{{s.id}}" value="{{s.id}}">{{s.pretty_name}}<br>
					{% endfor %}

				 <input type="submit" value="filter by these params!">
			</form>
		</div>
	</div>




	<div>
		<table>
			<thead>
				<tr>
					<th>Headline</th>
					<th>Author</th>
					<th>Ticker</th>
					<th>Date</th>
					<th>Service</th>
				</tr>
			</thead>
			<tbody>
			{% for art in articles %}
			<tr>
				<td><a href='http://{{art.url}}'>{{art.title}}</a></td>
				<td>{{art.author}}</td>
				<td>{{art.ticker}}</td>
				<td>{{art.date_pub}}</td>
				<td>{{art.service.pretty_name}}</td>
			</tr>
			{% endfor %}
			</tbody>
	</div>


	<div class="pagination">
	    <span class="step-links">
	        {% if articles.has_previous %}
	            <a href="?page={{ articles.previous_page_number }}">previous</a>
	        {% endif %}

	        <span class="current">
	            Page {{ articles.number }} of {{ articles.paginator.num_pages }}.
	        </span>

	        {% if articles.has_next %}
	            <a href="?page={{ articles.next_page_number }}">next</a>
	        {% endif %}
	    </span>
	</div>

	<div>
		<a href='/sol/extras/'><button type='button'>take me to the Extras overview</button></a>

		<a href='/sol/articles_vomit/'><button type='button'>take me to the very first page of results</button></a>
	</div>
</div>
</body>
</html>