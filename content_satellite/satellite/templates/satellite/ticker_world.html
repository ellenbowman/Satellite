{% extends 'satellite/_base_layout.html' %}

{% block title_value %}
SOL: Ticker World
{% endblock %}

{% block container_contents %}

	<h2>Welcome to Ticker World.</h2>
		<p>
			{% if service_filter_description %}
			These results are for {{service_filter_description}}.
				{% if sort_by_daily_percent_change %}
		 These are sorted by <strong>current percent change</strong>.
		<button type="button">	<a href="/sol/ticker_world/earnings_date_sort">
        Sort by upcoming earnings date</button> </a>
    	</p>
    			{% else %}
        	These are sorted by <strong>upcoming earnings date</strong>.
        	<button type="button"><a href="/sol/ticker_world/">
        		Sort by current percent change.</button></a></p>
			{% endif %}
		{% else %}
		You're seeing all Fool recommendations. {% if sort_by_daily_percent_change %}
		 These are sorted by <strong>current percent change</strong>.
		<button type="button">	<a href="/sol/ticker_world/earnings_date_sort">
        Sort by upcoming earnings date</button> </a>
    	</p>
    			{% else %}
        	These are sorted by <strong>upcoming earnings date</strong>.
        	<button type="button"><a href="/sol/ticker_world/">
        		Sort by current percent change.</button></a></p>
			{% endif %}</a></p>
		{% endif %}
	</p>
	<table>
		{% if service_filter_description %}
	<table>
		<td>
			<div style="padding-right: 500px;">
				<p>We Apologize for the Inconvenience</p>
			</div>
		<td>
		<div style='padding:15px;max-width:220px;background-color:lightgray'>
			<form action="" method="post">
				{% csrf_token %}
				<strong>Ticker(s):</strong><br/>
				{{form.tickers}}<br/>
				<strong>Service(s):</strong><br/>
				{{form.services}}<br/>
				<em>Ctrl/Cmd+click to select more than one</em>.
				<input type="submit" value="Apply filters"><br/>
			</form>
			<br/>
			<p><strong>Active filters:  </strong>
			{% if service_filter_description %}
			<em>Service(s):  </em>{{service_filter_description}}
			{% endif %}&nbsp;&nbsp;&nbsp;&nbsp;
			{% if ticker_filter_description %}
			<em>Ticker(s):  </em>{{ticker_filter_description}}
			{% endif %}<br/>
			<p><strong>Number of tickers:</strong> {{num_tickers}}
			</p>
			<p><a href="{% url 'ticker_world' %}"><button type='button'>Remove filters</button></a></p>
		</div>
	</td>

{% else %}
	<table>
	</td>
	{% endif %}
</table>

<hr/>

<h3>Ticker Details</h3>
<p>{% if sort_by_daily_percent_change %}
        	<p> These are sorted by <strong>current percent change</strong>. <button type="button"><a href="/sol/ticker_world/earnings_date_sort">
        	Sort by upcoming earnings date</button></a></p>
    		{% else %}
        	<p>These are sorted by <strong>upcoming earnings date</strong>.&nbsp;&nbsp;&nbsp;<button type="button"><a href="/sol/ticker_world/">Sort by current percent change</button></a></p>
    		{% endif %}
</p>
{% for t in tickers %}
<p id="{{t.ticker_symbol}}">
	<img width='40px' src='http://g.foolcdn.com/art/companylogos/mark/{{t}}.png' alt='{{t.ticker_symbol}}'/>&nbsp;&nbsp;<span style='background-color:yellow'>{{t.daily_percent_change}}%</span> | <strong>{{t.company_name}}</strong> | {{t.exchange_symbol}}: <a href='http://www.fool.com/quote/1255/{{t.ticker_symbol}}' target='_blank'><strong>{{t.ticker_symbol}}</strong></a>
<br/>
<strong>Scorecards with this ticker</strong>: {{t.scorecards_for_ticker}} | <strong>Tier</strong>: Tier goes here | <strong>Next earnings date</strong>: {{t.earnings_announcement}}<br/>
<a href="{% url 'everything_about_articles'%}?tickers={{t.ticker_symbol}}" target='_blank'>Premium coverage</a><br />
</p>
<p>
	<form action="/sol/ticker_world/" method="post">
    {% csrf_token %}
    <strong>Notes:</strong><br/>
    <textarea cols=100 rows=5 id = "edit_notes" name="ticker_notes_{{t.ticker_symbol}}"/>{{ t.notes|default_if_none:''}}
	</textarea></br>
    <input type="submit" value="Edit notes"></span>
</form>
</p>
{% endfor %}
<hr/>
{% endblock container_contents %}

-----------------------------------------------------------------------------------------

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63170666-1', 'auto');
  ga('send', 'pageview');

</script>