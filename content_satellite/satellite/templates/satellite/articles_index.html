{% extends 'satellite/_base_layout.html' %}

{% block title_value %}
SOL: Articles
{% endblock %}

{% block container_contents %}

	<h2>All Articles</h2>

	<div>
		<table style='width:100%'>
			<tr>
				<td style='vertical-align:top'>
					Articles: {{num_articles}} {% if pub_date_newest %}({{pub_date_oldest}} - {{pub_date_newest}}){% endif %}
					<br/>
					Authors: {{num_authors}}
				</td>
			</tr>
		</table>
	</div>

	<div>
		<table id='articles_table' class="table table-striped table-bordered">
			<thead>
				<tr style='text-align:left'>
					<th width='30%'>Headline</th>
					<th width='20%'>Author</th>
					<th width='10%'>Ticker</th>
					<th width='10%'>Date</th>
					<th width='15%'>Service</th>
					<th width='15%'>Tags</th>
				</tr>
			</thead>
			<tbody>
			{% for article in articles %}
			<tr>
				<td><a href='http://{{article.url}}' target='_blank'>{{article.title}}</a></td>
				<td>
					{{article.author}}
				</td>
				<td>
					<img width='24px' src='http://g.foolcdn.com/art/companylogos/mark/{{article.ticker}}.png' alt='{{article.ticker}}'/>
					<small>{{article.ticker}}</small>
				</td>
				<td>{{article.date_pub|date:"M d, Y" }}</td>
				<td>{{article.service.pretty_name}}</td>
				<td>{{article.tags}}</td>
			</tr>
			{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}


{% block script_block %}
{{ block.super }}
<script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.js"></script>

<script>

    $(function() {
			$('#articles_table').dataTable( {
	        "order": [[ 3, "desc" ]],
	        "lengthMenu": [[20,50,100,-1], [20,50,100, "All"]]
	    } );

    });
</script>
{% endblock script_block %}
